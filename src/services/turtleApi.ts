import {delay, getNormalizedPoints} from '../helpers';
import {ApiCall, Point} from '../models';

const RAW_PATH_1: Point[] = [
  [0.0, 0.0],
  [0.04098072, -0.13828821],
  [0.37039216, -0.23339399],
  [0.26885702, -0.39102624],
  [0.36020683, -0.45064686],
  [-0.01817907, -0.3943288],
  [-0.24411102, -0.19926696],
  [-0.22221142, -0.08177388],
  [-0.14779513, -0.10919445],
  [-0.11249928, -0.03097189],
  [-0.09876267, 0.16555104],
  [-0.35416056, 0.12901593],
  [-0.54815881, -0.11872139],
  [-0.58441766, -0.11658687],
  [-0.45240259, -0.15805184],
  [-0.2306792, -0.30166512],
  [-0.25688306, -0.33089615],
  [-0.21037456, -0.41316224],
  [-0.4104509, -0.07521438],
  [-0.30874718, 0.08525497],
  [0.14363327, 0.51256361],
  [-0.10741609, 0.36332592],
  [-0.25304602, 0.47628111],
  [-0.16213813, 0.15215947],
  [-0.17659667, 0.03539221],
  [-0.14959906, 0.15484942],
  [-0.41021778, 0.14103985],
  [-0.24719203, -0.11903506],
  [-0.38621704, -0.36233742],
  [-0.50019402, -0.34869787],
  [-0.25441915, -0.6297036],
  [-0.18646859, -0.51844084],
  [-0.35842901, -0.92723019],
  [-0.0812252, -0.91910342],
  [-0.29128049, -0.8927227],
  [-0.36505042, -0.89044596],
  [-0.60102474, -0.97307932],
  [-0.84610783, -0.72619362],
  [-0.83735618, -0.28311696],
  [-1.06523353, -0.13486321],
  [-0.91766635, -0.31854616],
  [-1.19567779, -0.34174444],
  [-1.47440949, -0.06164389],
  [-1.04506659, 0.29160647],
  [-0.95275659, 0.36077128],
  [-0.93833974, 0.46227702],
  [-1.00125541, 0.33578797],
  [-0.94485729, 0.2570644],
  [-0.71518176, 0.33342894],
  [-1.29044156, 0.3313786],
  [-1.4369072, 0.61802139],
  [-1.60518817, 0.6845273],
  [-1.34295739, 0.25144649],
  [-1.49914498, 0.33093048],
  [-1.66155677, 0.13395569],
  [-1.6313757, 0.26790416],
  [-1.76197316, 0.27831537],
  [-1.76077967, 0.34911793],
  [-1.88998263, 0.45325695],
  [-2.18844935, 0.32296382],
  [-2.41798411, 0.39045777],
  [-2.45031623, 0.08789025],
  [-2.35356609, 0.32781493],
  [-2.12506546, 0.17085454],
  [-1.8969035, 0.13244893],
  [-1.6901256, 0.30419551],
  [-1.72998913, 0.1491815],
  [-2.05013961, 0.06374831],
  [-1.78242246, -0.2941374],
  [-1.77128215, -0.42580831],
  [-1.47869212, -0.62847553],
  [-1.39653734, -0.73003446],
  [-1.39242118, -0.9754278],
  [-1.49746158, -1.22779624],
  [-1.49688251, -1.3645294],
  [-1.68881407, -1.68628948],
  [-1.85445685, -1.39260927],
  [-1.76975365, -1.3114893],
  [-1.56874687, -1.49265572],
  [-1.31855753, -1.31346287],
  [-1.23724304, -1.2961877],
  [-1.01213979, -1.2579889],
  [-1.14323979, -1.19850868],
  [-1.03035418, -1.32356686],
  [-1.00203337, -1.08256449],
  [-0.64046991, -0.99882581],
  [-0.75544964, -0.98965591],
  [-1.03198571, -0.93446976],
  [-1.08059117, -1.15162865],
  [-1.31519697, -1.32327273],
  [-1.41170459, -1.4097903],
  [-1.76285645, -1.08794539],
  [-1.56616744, -0.7597131],
  [-1.35019649, -1.09360609],
  [-1.13716686, -1.12621389],
  [-0.95180249, -1.17947801],
  [-0.98252708, -1.25376455],
  [-0.56946837, -1.50910832],
  [-0.33607004, -1.63361693],
  [-0.2754238, -1.49252645],
];

const RAW_PATH_2: Point[] = [
  [0.0, 0.0],
  [-1.78197268e-1, -6.8262108e-3],
  [-2.57372123e-1, 6.8054819e-2],
  [-3.90947101e-1, 1.32652684e-1],
  [-6.77898643e-1, -1.23480473e-1],
  [-7.59104948e-1, -1.13179056e-1],
  [-7.66122916e-1, 2.2626261e-1],
  [-7.58954531e-1, 1.76731278e-1],
  [-8.49106936e-1, -5.85148161e-2],
  [-8.37829942e-1, -5.45656048e-2],
  [-6.60884958e-1, -2.76291108e-1],
  [-4.15800484e-1, -3.08787115e-1],
  [-4.09569028e-1, -2.14584746e-1],
  [-4.27032297e-1, -4.05293408e-1],
  [-4.33520863e-1, -6.17461474e-1],
  [-5.99161298e-1, -2.06191082e-1],
  [-7.28366869e-1, -1.36762828e-1],
  [-7.93518676e-1, 2.03061248e-1],
  [-8.75281797e-1, 1.31658669e-1],
  [-7.60746913e-1, 1.87759224e-1],
  [-5.59139679e-1, 1.97079964e-1],
  [-6.89254915e-1, 2.42816381e-2],
  [-4.08461001e-1, -1.10389526e-1],
  [-4.38046843e-1, -1.63226638e-1],
  [-4.80925454e-1, -2.57674422e-1],
  [-4.06426744e-1, -2.1246708e-1],
  [1.24665842e-1, -2.54267657e-1],
  [2.70655101e-1, -5.56196702e-2],
  [3.81387281e-1, -2.51022567e-1],
  [9.99610395e-1, -4.39989909e-1],
  [1.03406889, -4.46009897e-1],
  [1.02177088, -4.06388323e-1],
  [8.82684303e-1, -2.65484857e-1],
  [9.70894168e-1, -4.3465265e-2],
  [1.2325803, 2.89124402e-2],
  [1.2187594, 1.23863963e-1],
  [1.44557056, -3.0885005e-1],
  [1.26062716, -2.02843106e-1],
  [1.46500207, -4.47678864e-2],
  [1.58006136, 1.20013568e-1],
  [1.50408132, -1.97862466e-2],
  [1.76956899, 3.48497751e-2],
  [1.4627912, -1.4725227e-1],
  [1.37858568, -9.38501179e-2],
  [1.68458278, 1.96032686e-1],
  [1.4471921, 5.85738192e-1],
  [1.37728903, 4.60956546e-1],
  [1.45034699, 5.05465585e-1],
  [1.19325203, 7.57721928e-1],
  [1.32090921, 7.94776279e-1],
  [1.59921992, 6.21419934e-1],
  [1.7692622, 6.54237017e-1],
  [1.66213696, 6.75551714e-1],
  [1.86654647, 8.74725207e-1],
  [2.19190278, 5.6913635e-1],
  [2.01714903, 3.16488873e-1],
  [2.1004761, 2.81352633e-2],
  [2.13444005, 9.44273751e-3],
  [1.95557524, -2.55547412e-1],
  [2.3028868, -8.54293569e-2],
  [2.67453902, -1.94398825e-2],
  [2.99585065, 7.53799289e-2],
  [2.88523846, -5.51720948e-2],
  [2.93948798, -1.54596981e-1],
  [2.67516573, -1.52986545e-1],
  [2.76741329, -1.02738259e-1],
  [2.85090933, 2.51901466e-2],
  [3.12879837, 9.3012076e-2],
  [3.03358055, 5.58422147e-3],
  [2.86390733, -5.88718596e-2],
  [3.09722257, -3.80641042e-1],
  [3.36470989, -4.46519279e-1],
  [3.48657175, -4.5757654e-1],
  [3.73331578, -1.02057957e-1],
  [3.83860389, -1.65122826e-1],
  [3.99238013, -1.69144786e-1],
  [3.91574776, -3.34415139e-1],
  [4.15055584, -3.96726698e-1],
  [4.40260922, -6.47603934e-1],
  [4.71763962, -6.74917097e-1],
  [5.06579193, -7.05712021e-1],
  [5.41652072, -9.675575e-1],
  [5.76741224, -5.97659909e-1],
  [5.69344929, -8.10403778e-1],
  [5.70957419, -4.68957069e-1],
  [6.01121017, -9.70455413e-2],
  [5.87401073, -2.58045102e-1],
  [5.61763793, -9.66890399e-3],
  [5.65917423, 3.75855411e-2],
  [5.68691172, -7.5644607e-2],
  [5.5524214, 1.64190552e-2],
  [5.47204987, 1.36877879e-1],
  [5.96727744, 2.8055296e-1],
  [5.71400273, 3.84548265e-1],
  [5.9535085, 3.81686167e-1],
  [5.35290474, -3.39868419e-2],
  [5.0377671, -1.35239866e-1],
  [4.99223009, -2.11128303e-1],
  [4.91754735, -7.92670951e-2],
  [5.15179929, -5.02446034e-1],
];

const getMockTurtlePath = (mockDelay: number): Point[] => {
  delay(mockDelay);
  return RAW_PATH_2;
};

const getApiTurtlePath = () => {
  throw Error('Not implemented');
};

const turtleAPI = {
  getTurtlePath: (args: ApiCall): Point[] | never => {
    // In the future, return normalized points
    const {useMock, mockDelay} = args;
    const rawPoints = useMock
      ? getMockTurtlePath(mockDelay)
      : getApiTurtlePath();
    return getNormalizedPoints(rawPoints);
  },
};

export default turtleAPI;
